<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <title>Document</title>
  </head>
  <body>
    <h1 class="display-3 text-center my-5">API Documentation</h1>
    <div class="container">
      <h1 class="display-6">movies end shop API</h1>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Method</th>
            <th>Route</th>
            <th>Descrption</th>
            <th>Links</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>GET</td>
            <td>/products</td>
            <td>Returns a list of toys according to the query parameters.</td>
            <td>
              <b>products</b> products whit not filter.
              <br />
              <a href="/products"
                >https://movies-eli.cyclic.cloud/products
              </a>
              <br />
              <b>page</b> (optional): page number to return (default: 1).
              <br />
              <a href="/products?page=1"
                >https://movies-eli.cyclic.cloud/products?page=1
              </a>
              <br />
              <b>perPage</b> (optional): number of toys per page (default: 5,
              maximum: 10).
              <br />
              <a href="/products?perPage=5"
                >https://movies-eli.cyclic.cloud/products?perPage=5</a
              >
              <br />
              <b>sort</b> (optional): field to sort by (default: price).
              <br />
              <a href="/products?perPage=7&sort=price"
                >https://movies-eli.cyclic.cloud/products?perPage=7&sort=price</a
              >
              <br />
              <b>reverse</b> (optional): if set to yes, sorts in descending
              order.
              <br />
              <a href="/products?perPage=7&sort=price"
                >https://movies-eli.cyclic.cloud/products?sort=price&reverse=yes</a
              >
            </td>
          </tr>
          <tr>
            <td>GET</td>
            <td>/products/price</td>
            <td>Returns a list of toys filtered by price range.</td>
            <td>
              <b>page</b> (optional): page number to return (default: 1).
              <br />
              <a href="/products/price?max=500&min=300">
                https://movies-eli.cyclic.cloud/products/price?min=30&max=50
              </a>
            </td>
          </tr>

          <tr>
            <td>GET</td>
            <td>/products/:id</td>
            <td>Returns a single toy by its ID.</td>
            <td>
              <b>id:</b> the ID of the toy to retrieve.
              <br />
              <a href="products/649d6c31cbc2fb67e2e54bd7">
                https://movies-eli.cyclic.cloud/products/649d6c31cbc2fb67e2e54bd7
              </a>
            </td>
          </tr>

          <tr>
            <td>GET</td>
            <td>/products/search</td>
            <td>Returns a list of toys matching a search query.</td>
            <td>
              <b>s:</b> the ID of the toy to retrieve.
              <br />
              <a href="/products?s=B fresh">
                https://movies-eli.cyclic.cloud/products?s=B fresh
              </a>
            </td>
          </tr>

          <tr>
            <td>GET</td>
            <td>/products/category/:catName</td>
            <td>Returns a list of toys by category</td>
            <td>
              <b>catName:</b> the name of the category to retrieve toys for.
              <br />
              <a href="/products?category=adidas">
                https://movies-eli.cyclic.cloud/products?category=adidas
              </a>
            </td>
          </tr>

          <tr>
            <td>POST</td>
            <td>/products</td>
            <td>Adds a new toy. <br /><b>Token is required!</b></td>
            <td>
              <b>Request Body:</b> Toy data to be added in the following format.
              <br />
              <b>price:</b> 1-999999
              <br />
              <b>img_url:</b> is allowed and not required
              <br />
              <pre>
{
  name: String,
  info: String,
  price: Number,
  category_url: String,
  img_url: String
}
            </pre
              >
            </td>
          </tr>

          <tr>
            <td>PUT</td>
            <td>/products/:id</td>
            <td>Updates an existing toy. <br /><b>Token is required!</b></td>
            <td>
              <b>idEdit:</b> the ID of the toy to update.
              <br />
              <b>Request Body:</b> Toy data to be updated in the following
              format
              <br />
              <b>price:</b> 1-999999
              <br />
              <b>img_url:</b> is allowed and not required
              <br />
              <pre>
{
  name: String,
  info: String,
  price: Number,
  category_url: String,
  img_url: String
}
            </pre
              >
            </td>
          </tr>

          <tr>
            <td>DELETE</td>
            <td>/products/:id</td>
            <td>Deletes a toy by its ID. <br /><b>Token is required!</b></td>
            <td>
              <b>idDel:</b> the ID of the toy to delete.
              <br />
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="container mt-5">
      <h1 class="display-6">Users API</h1>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>HTTP Method</th>
            <th>Route</th>
            <th>Descrption</th>
            <th>Request Body</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>GET</td>
            <td>/users</td>
            <td>Test endpoint to check if the server is running</td>
            <td>
              N/A
              <br />
            </td>
          </tr>

          <tr>
            <td>GET</td>
            <td>/users/userInfo</td>
            <td>
              Get the information for the authenticated user (requires
              authentication)
            </td>
            <td>
              N/A
              <br />
            </td>
          </tr>

          <tr>
            <td>POST</td>
            <td>/users</td>
            <td>Create a new user</td>
            <td>
              { name: String, email: String, password: String }
              <br />
            </td>
          </tr>

          <tr>
            <td>POST</td>
            <td>/users/login</td>
            <td>
              Authenticate a user and receive a <b>JWT token</b> in response
            </td>
            <td>
              { email: String, password: String }
              <br />
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="container mt-5">
      <h1 class="display-6">Users/Admin Token Abillities</h1>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Admin</th>
            <th>Default User</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Has the ability to add new toys to the system</td>
            <td>Has the ability to add new toys to the system</td>
          </tr>

          <tr>
            <td>Can edit all information related to any toy in the system</td>
            <td>
              Can only edit information related to toys they have created or are
              associated with their account
            </td>
          </tr>

          <tr>
            <td>Has the ability to delete all toys from the system</td>
            <td>
              Can only delete toys that they have created or are associated with
              their account
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="text-center my-5">
      <p>Copyright Â© 2023 <b>Mendi Basha</b></p>
      <p>Fullstack Developer | MongoDB | Node.js</p>
    </div>
  </body>
</html>
